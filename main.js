/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => VerovioMusicRenderer
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// verovioProcessor.ts
async function processVerovioCodeBlocks(source, el, ctx) {
  if (!window.VerovioToolkit) {
    console.log("Verovio is not yet loaded or failed to load.");
    return;
  }
  const settings = this.settings;
  try {
    const data = await fetchFileData(source.trim());
    window.VerovioToolkit.setOptions({
      "scale": settings.scale,
      "adjustPageHeight": settings.adjustPageHeight,
      "adjustPageWidth": settings.adjustPageWidth,
      "breaks": settings.breaks,
      "pageWidth": settings.pageWidth,
      "midiTempoAdjustment": settings.midiTempoAdjustment,
      "font": settings.font
      // This assumes settings.font is a string like "Bravura"
    });
    window.VerovioToolkit.loadData(data);
    const meiData = window.VerovioToolkit.getMEI({ noLayout: false });
    window.VerovioToolkit.loadData(meiData);
    const svg = window.VerovioToolkit.renderToSVG(1);
    const container = document.createElement("div");
    container.className = "verovio-container";
    container.innerHTML = svg;
    const toolbar = createToolbar(data);
    container.appendChild(toolbar);
    el.appendChild(container);
  } catch (error) {
    console.error("Error rendering data:", error);
    el.innerHTML = `<p>Error rendering data: ${error.message}</p>`;
  }
}
async function fetchFileData(path) {
  try {
    let data = "";
    if (isValidUrl(path)) {
      console.log(`Fetching data from URL: ${path}`);
      const response = await fetch(path);
      if (!response.ok)
        throw new Error(`Network response was not ok: ${response.statusText}`);
      data = await response.text();
    } else {
      console.log(`Fetching data from local file: ${path}`);
      const file = app.vault.getAbstractFileByPath(path);
      if (!file)
        throw new Error(`File not found: ${path}`);
      data = await app.vault.read(file);
    }
    return data;
  } catch (error) {
    throw new Error(`Failed to fetch file data: ${error.message}`);
  }
}
function isValidUrl(url) {
  try {
    new URL(url);
    return true;
  } catch (e) {
    return false;
  }
}
function createToolbar(data) {
  const toolbar = document.createElement("div");
  toolbar.className = "verovio-toolbar";
  const playButton = createButton(playIcon(), () => console.log("Play button clicked"));
  const stopButton = createButton(stopIcon(), () => console.log("Stop button clicked"));
  const downloadButton = createButton(downloadIcon(), downloadSVG);
  toolbar.appendChild(playButton);
  toolbar.appendChild(stopButton);
  toolbar.appendChild(downloadButton);
  return toolbar;
}
function createButton(iconSvg, onClick) {
  const button = document.createElement("button");
  button.innerHTML = iconSvg;
  button.onclick = onClick;
  return button;
}
function playIcon() {
  return `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M8 5v14l11-7z"/>
    </svg>
  `;
}
function stopIcon() {
  return `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M6 6h12v12H6z"/>
    </svg>
  `;
}
function downloadIcon() {
  return `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M5 20h14v-2H5v2zm7-18L5.5 8.5 7 10l3-3v9h2V7l3 3 1.5-1.5L12 2z"/>
    </svg>
  `;
}
async function downloadSVG(event) {
  const container = event.target.closest(".verovio-container");
  const svgElement = container.querySelector("svg");
  if (!svgElement) {
    console.error("SVG element not found.");
    return;
  }
  const serializer = new XMLSerializer();
  const source = serializer.serializeToString(svgElement);
  const blob = new Blob([source], { type: "image/svg+xml;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "score.svg";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// styles.ts
function addVerovioStyles() {
  const style = document.createElement("style");
  style.textContent = `
      .verovio-container {
        max-width: 100%;
        margin: 0 auto;
        padding: 0;
        position: relative;
      }
      .verovio-container svg {
        max-width: 100%;
        height: auto;
      }
      .verovio-toolbar {
        position: absolute;
        top: 10px;
        right: 10px;
        display: none;
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid #ccc;
        padding: 5px;
        border-radius: 3px;
        z-index: 10;
      }
      .verovio-container:hover .verovio-toolbar {
        display: flex;
        gap: 5px;
      }
      .verovio-toolbar button {
        background: none;
        border: none;
        cursor: pointer;
      }
      .verovio-toolbar button svg {
        width: 24px;
        height: 24px;
        fill: black;
      }
      g.note.playing {
        fill: crimson;
      }
    `;
  document.head.appendChild(style);
}

// settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  mySetting: "default",
  scale: 100,
  adjustPageHeight: true,
  adjustPageWidth: true,
  breaks: "auto",
  pageWidth: 700,
  midiTempoAdjustment: 1,
  font: "Leipzig"
  // Default font
};
var VerovioSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Scale").setDesc("Scale for Verovio rendering").addSlider((slider) => slider.setLimits(1, 1e3, 1).setValue(this.plugin.settings.scale).onChange(async (value) => {
      this.plugin.settings.scale = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Adjust Page Height").setDesc("Adjust page height").addToggle((toggle) => toggle.setValue(this.plugin.settings.adjustPageHeight).onChange(async (value) => {
      this.plugin.settings.adjustPageHeight = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Adjust Page Width").setDesc("Adjust page width").addToggle((toggle) => toggle.setValue(this.plugin.settings.adjustPageWidth).onChange(async (value) => {
      this.plugin.settings.adjustPageWidth = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Breaks").setDesc("Type of breaks").addDropdown((dropdown) => dropdown.addOption("none", "None").addOption("auto", "Auto").addOption("line", "Line").addOption("smart", "Smart").addOption("encoded", "Encoded").setValue(this.plugin.settings.breaks).onChange(async (value) => {
      this.plugin.settings.breaks = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Page Width").setDesc("Width of the page").addSlider((slider) => slider.setLimits(100, 1200, 50).setValue(this.plugin.settings.pageWidth).onChange(async (value) => {
      this.plugin.settings.pageWidth = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("MIDI Tempo Adjustment").setDesc("Adjustment factor for MIDI tempo").addSlider((slider) => slider.setLimits(0.5, 2, 0.1).setValue(this.plugin.settings.midiTempoAdjustment).onChange(async (value) => {
      this.plugin.settings.midiTempoAdjustment = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Font").setDesc("Musical font for rendering").addDropdown((dropdown) => dropdown.addOption('"Leipzig"', "Leipzig").addOption('"Bravura"', "Bravura").addOption('"Gootville"', "Gootville").addOption('"Leland"', "Leland").setValue(this.plugin.settings.font).onChange(async (value) => {
      this.plugin.settings.font = value;
      await this.plugin.saveSettings();
    }));
  }
};

// main.ts
var VerovioMusicRenderer = class extends import_obsidian2.Plugin {
  async onload() {
    addVerovioStyles();
    try {
      await loadVerovio(this);
      console.log("Verovio loaded successfully.");
    } catch (error) {
      console.error("Failed to load Verovio library:", error);
    }
    await this.loadSettings();
    this.addSettingTab(new VerovioSettingTab(this.app, this));
    this.registerMarkdownCodeBlockProcessor("verovio", (source, el, ctx) => processVerovioCodeBlocks.call(this, source, el, ctx));
    const ribbonIconEl = this.addRibbonIcon("dice", "Verovio Music Renderer", () => {
      new import_obsidian2.Notice("This is a notice!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
async function loadVerovio(plugin) {
  if (window.VerovioToolkitLoading || window.VerovioToolkit)
    return;
  window.VerovioToolkitLoading = true;
  console.log("Loading Verovio toolkit...");
  return new Promise((resolve, reject) => {
    const script = document.createElement("script");
    script.src = "https://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js";
    script.defer = true;
    script.onload = () => {
      if (typeof window.verovio === "undefined" || typeof window.verovio.toolkit !== "function") {
        window.VerovioToolkitLoading = false;
        reject(new Error("Verovio toolkit not correctly loaded."));
        return;
      }
      window.verovio.module.onRuntimeInitialized = () => {
        window.VerovioToolkit = new window.verovio.toolkit();
        console.log("Verovio has loaded successfully");
        window.VerovioToolkitLoading = false;
        resolve();
      };
    };
    script.onerror = () => {
      window.VerovioToolkitLoading = false;
      reject(new Error("Error loading Verovio toolkit script."));
    };
    document.head.appendChild(script);
  });
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJ2ZXJvdmlvUHJvY2Vzc29yLnRzIiwgInN0eWxlcy50cyIsICJzZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IHByb2Nlc3NWZXJvdmlvQ29kZUJsb2NrcyB9IGZyb20gJy4vdmVyb3Zpb1Byb2Nlc3Nvcic7XG5pbXBvcnQgeyBhZGRWZXJvdmlvU3R5bGVzIH0gZnJvbSAnLi9zdHlsZXMnO1xuaW1wb3J0IHsgVmVyb3Zpb1NldHRpbmdUYWIsIERFRkFVTFRfU0VUVElOR1MsIFZlcm92aW9QbHVnaW5TZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJvdmlvTXVzaWNSZW5kZXJlciBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBWZXJvdmlvUGx1Z2luU2V0dGluZ3M7XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGFkZFZlcm92aW9TdHlsZXMoKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBsb2FkVmVyb3Zpbyh0aGlzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiVmVyb3ZpbyBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIFZlcm92aW8gbGlicmFyeTpcIiwgZXJyb3IpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBWZXJvdmlvU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgdGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwidmVyb3Zpb1wiLCAoc291cmNlLCBlbCwgY3R4KSA9PiBwcm9jZXNzVmVyb3Zpb0NvZGVCbG9ja3MuY2FsbCh0aGlzLCBzb3VyY2UsIGVsLCBjdHgpKTtcblxuICAgIGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbihcImRpY2VcIiwgXCJWZXJvdmlvIE11c2ljIFJlbmRlcmVyXCIsICgpID0+IHtcbiAgICAgIG5ldyBOb3RpY2UoXCJUaGlzIGlzIGEgbm90aWNlIVwiKTtcbiAgICB9KTtcbiAgICByaWJib25JY29uRWwuYWRkQ2xhc3MoXCJteS1wbHVnaW4tcmliYm9uLWNsYXNzXCIpO1xuXG4gICAgY29uc3Qgc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG4gICAgc3RhdHVzQmFySXRlbUVsLnNldFRleHQoXCJTdGF0dXMgQmFyIFRleHRcIik7XG4gIH1cblxuICBvbnVubG9hZCgpIHt9XG5cbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZFZlcm92aW8ocGx1Z2luOiBWZXJvdmlvTXVzaWNSZW5kZXJlcikge1xuICBpZiAod2luZG93LlZlcm92aW9Ub29sa2l0TG9hZGluZyB8fCB3aW5kb3cuVmVyb3Zpb1Rvb2xraXQpIHJldHVybjtcbiAgd2luZG93LlZlcm92aW9Ub29sa2l0TG9hZGluZyA9IHRydWU7XG4gIGNvbnNvbGUubG9nKFwiTG9hZGluZyBWZXJvdmlvIHRvb2xraXQuLi5cIik7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICBzY3JpcHQuc3JjID0gXCJodHRwczovL3d3dy52ZXJvdmlvLm9yZy9qYXZhc2NyaXB0L2xhdGVzdC92ZXJvdmlvLXRvb2xraXQtd2FzbS5qc1wiO1xuICAgIHNjcmlwdC5kZWZlciA9IHRydWU7XG4gICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93LnZlcm92aW8gPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHdpbmRvdy52ZXJvdmlvLnRvb2xraXQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3aW5kb3cuVmVyb3Zpb1Rvb2xraXRMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJWZXJvdmlvIHRvb2xraXQgbm90IGNvcnJlY3RseSBsb2FkZWQuXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luZG93LnZlcm92aW8ubW9kdWxlLm9uUnVudGltZUluaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgICB3aW5kb3cuVmVyb3Zpb1Rvb2xraXQgPSBuZXcgd2luZG93LnZlcm92aW8udG9vbGtpdCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlZlcm92aW8gaGFzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgIHdpbmRvdy5WZXJvdmlvVG9vbGtpdExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIHNjcmlwdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgd2luZG93LlZlcm92aW9Ub29sa2l0TG9hZGluZyA9IGZhbHNlO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkVycm9yIGxvYWRpbmcgVmVyb3ZpbyB0b29sa2l0IHNjcmlwdC5cIikpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgVmVyb3Zpb011c2ljUmVuZGVyZXIgZnJvbSAnLi9tYWluJztcblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1Zlcm92aW9Db2RlQmxvY2tzKHRoaXM6IFZlcm92aW9NdXNpY1JlbmRlcmVyLCBzb3VyY2U6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50LCBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpIHtcbiAgaWYgKCF3aW5kb3cuVmVyb3Zpb1Rvb2xraXQpIHtcbiAgICBjb25zb2xlLmxvZyhcIlZlcm92aW8gaXMgbm90IHlldCBsb2FkZWQgb3IgZmFpbGVkIHRvIGxvYWQuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEZpbGVEYXRhKHNvdXJjZS50cmltKCkpO1xuICAgIHdpbmRvdy5WZXJvdmlvVG9vbGtpdC5zZXRPcHRpb25zKHtcbiAgICAgIFwic2NhbGVcIjogc2V0dGluZ3Muc2NhbGUsXG4gICAgICBcImFkanVzdFBhZ2VIZWlnaHRcIjogc2V0dGluZ3MuYWRqdXN0UGFnZUhlaWdodCxcbiAgICAgIFwiYWRqdXN0UGFnZVdpZHRoXCI6IHNldHRpbmdzLmFkanVzdFBhZ2VXaWR0aCxcbiAgICAgIFwiYnJlYWtzXCI6IHNldHRpbmdzLmJyZWFrcyxcbiAgICAgIFwicGFnZVdpZHRoXCI6IHNldHRpbmdzLnBhZ2VXaWR0aCxcbiAgICAgIFwibWlkaVRlbXBvQWRqdXN0bWVudFwiOiBzZXR0aW5ncy5taWRpVGVtcG9BZGp1c3RtZW50LFxuICAgICAgXCJmb250XCI6IHNldHRpbmdzLmZvbnQgLy8gVGhpcyBhc3N1bWVzIHNldHRpbmdzLmZvbnQgaXMgYSBzdHJpbmcgbGlrZSBcIkJyYXZ1cmFcIlxuICAgIH0pO1xuICAgIHdpbmRvdy5WZXJvdmlvVG9vbGtpdC5sb2FkRGF0YShkYXRhKTtcbiAgICBjb25zdCBtZWlEYXRhID0gd2luZG93LlZlcm92aW9Ub29sa2l0LmdldE1FSSh7IG5vTGF5b3V0OiBmYWxzZSB9KTtcbiAgICB3aW5kb3cuVmVyb3Zpb1Rvb2xraXQubG9hZERhdGEobWVpRGF0YSk7XG4gICAgY29uc3Qgc3ZnID0gd2luZG93LlZlcm92aW9Ub29sa2l0LnJlbmRlclRvU1ZHKDEpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwidmVyb3Zpby1jb250YWluZXJcIjtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gc3ZnO1xuICAgIGNvbnN0IHRvb2xiYXIgPSBjcmVhdGVUb29sYmFyKGRhdGEpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b29sYmFyKTtcbiAgICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZW5kZXJpbmcgZGF0YTpcIiwgZXJyb3IpO1xuICAgIGVsLmlubmVySFRNTCA9IGA8cD5FcnJvciByZW5kZXJpbmcgZGF0YTogJHtlcnJvci5tZXNzYWdlfTwvcD5gO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoRmlsZURhdGEocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBsZXQgZGF0YSA9ICcnO1xuICAgIGlmIChpc1ZhbGlkVXJsKHBhdGgpKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgZGF0YSBmcm9tIFVSTDogJHtwYXRofWApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwYXRoKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgZGF0YSBmcm9tIGxvY2FsIGZpbGU6ICR7cGF0aH1gKTtcbiAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xuICAgICAgaWYgKCFmaWxlKSB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgbm90IGZvdW5kOiAke3BhdGh9YCk7XG4gICAgICBkYXRhID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGZpbGUgZGF0YTogJHtlcnJvci5tZXNzYWdlfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVG9vbGJhcihkYXRhOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGNvbnN0IHRvb2xiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b29sYmFyLmNsYXNzTmFtZSA9IFwidmVyb3Zpby10b29sYmFyXCI7XG4gIGNvbnN0IHBsYXlCdXR0b24gPSBjcmVhdGVCdXR0b24ocGxheUljb24oKSwgKCkgPT4gY29uc29sZS5sb2coXCJQbGF5IGJ1dHRvbiBjbGlja2VkXCIpKTtcbiAgY29uc3Qgc3RvcEJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihzdG9wSWNvbigpLCAoKSA9PiBjb25zb2xlLmxvZyhcIlN0b3AgYnV0dG9uIGNsaWNrZWRcIikpO1xuICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihkb3dubG9hZEljb24oKSwgZG93bmxvYWRTVkcpO1xuICB0b29sYmFyLmFwcGVuZENoaWxkKHBsYXlCdXR0b24pO1xuICB0b29sYmFyLmFwcGVuZENoaWxkKHN0b3BCdXR0b24pO1xuICB0b29sYmFyLmFwcGVuZENoaWxkKGRvd25sb2FkQnV0dG9uKTtcbiAgcmV0dXJuIHRvb2xiYXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihpY29uU3ZnOiBzdHJpbmcsIG9uQ2xpY2s6ICgpID0+IHZvaWQpOiBIVE1MQnV0dG9uRWxlbWVudCB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ1dHRvbi5pbm5lckhUTUwgPSBpY29uU3ZnO1xuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XG4gIHJldHVybiBidXR0b247XG59XG5cbmZ1bmN0aW9uIHBsYXlJY29uKCk6IHN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgIDxwYXRoIGQ9XCJNOCA1djE0bDExLTd6XCIvPlxuICAgIDwvc3ZnPlxuICBgO1xufVxuXG5mdW5jdGlvbiBzdG9wSWNvbigpOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICA8cGF0aCBkPVwiTTYgNmgxMnYxMkg2elwiLz5cbiAgICA8L3N2Zz5cbiAgYDtcbn1cblxuZnVuY3Rpb24gZG93bmxvYWRJY29uKCk6IHN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgIDxwYXRoIGQ9XCJNNSAyMGgxNHYtMkg1djJ6bTctMThMNS41IDguNSA3IDEwbDMtM3Y5aDJWN2wzIDMgMS41LTEuNUwxMiAyelwiLz5cbiAgICA8L3N2Zz5cbiAgYDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRTVkcoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgY29uc3QgY29udGFpbmVyID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIi52ZXJvdmlvLWNvbnRhaW5lclwiKTtcbiAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwic3ZnXCIpO1xuICBpZiAoIXN2Z0VsZW1lbnQpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiU1ZHIGVsZW1lbnQgbm90IGZvdW5kLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIGNvbnN0IHNvdXJjZSA9IHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcoc3ZnRWxlbWVudCk7XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc291cmNlXSwgeyB0eXBlOiBcImltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOFwiIH0pO1xuICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IFwic2NvcmUuc3ZnXCI7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuXG5leHBvcnQgeyBwcm9jZXNzVmVyb3Zpb0NvZGVCbG9ja3MgfTtcbiIsICJleHBvcnQgZnVuY3Rpb24gYWRkVmVyb3Zpb1N0eWxlcygpIHtcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgLnZlcm92aW8tY29udGFpbmVyIHtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgLnZlcm92aW8tY29udGFpbmVyIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgICAgLnZlcm92aW8tdG9vbGJhciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICByaWdodDogMTBweDtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgei1pbmRleDogMTA7XG4gICAgICB9XG4gICAgICAudmVyb3Zpby1jb250YWluZXI6aG92ZXIgLnZlcm92aW8tdG9vbGJhciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogNXB4O1xuICAgICAgfVxuICAgICAgLnZlcm92aW8tdG9vbGJhciBidXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICAgIC52ZXJvdmlvLXRvb2xiYXIgYnV0dG9uIHN2ZyB7XG4gICAgICAgIHdpZHRoOiAyNHB4O1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICAgIGZpbGw6IGJsYWNrO1xuICAgICAgfVxuICAgICAgZy5ub3RlLnBsYXlpbmcge1xuICAgICAgICBmaWxsOiBjcmltc29uO1xuICAgICAgfVxuICAgIGA7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBWZXJvdmlvTXVzaWNSZW5kZXJlciBmcm9tICcuL21haW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZlcm92aW9QbHVnaW5TZXR0aW5ncyB7XG4gIG15U2V0dGluZzogc3RyaW5nO1xuICBzY2FsZTogbnVtYmVyO1xuICBhZGp1c3RQYWdlSGVpZ2h0OiBib29sZWFuO1xuICBhZGp1c3RQYWdlV2lkdGg6IGJvb2xlYW47XG4gIGJyZWFrczogc3RyaW5nO1xuICBwYWdlV2lkdGg6IG51bWJlcjtcbiAgbWlkaVRlbXBvQWRqdXN0bWVudDogbnVtYmVyO1xuICBmb250OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBWZXJvdmlvUGx1Z2luU2V0dGluZ3MgPSB7XG4gIG15U2V0dGluZzogJ2RlZmF1bHQnLFxuICBzY2FsZTogMTAwLFxuICBhZGp1c3RQYWdlSGVpZ2h0OiB0cnVlLFxuICBhZGp1c3RQYWdlV2lkdGg6IHRydWUsXG4gIGJyZWFrczogJ2F1dG8nLFxuICBwYWdlV2lkdGg6IDcwMCxcbiAgbWlkaVRlbXBvQWRqdXN0bWVudDogMS4wLFxuICBmb250OiAnTGVpcHppZycgLy8gRGVmYXVsdCBmb250XG59XG5cbmV4cG9ydCBjbGFzcyBWZXJvdmlvU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IFZlcm92aW9NdXNpY1JlbmRlcmVyO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFZlcm92aW9NdXNpY1JlbmRlcmVyKSB7XG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdTZXR0aW5nICMxJylcbiAgICAgIC5zZXREZXNjKFwiSXQncyBhIHNlY3JldFwiKVxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgeW91ciBzZWNyZXQnKVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1NjYWxlJylcbiAgICAgIC5zZXREZXNjKCdTY2FsZSBmb3IgVmVyb3ZpbyByZW5kZXJpbmcnKVxuICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXG4gICAgICAgIC5zZXRMaW1pdHMoMSwgMTAwMCwgMSlcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNjYWxlKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2NhbGUgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQWRqdXN0IFBhZ2UgSGVpZ2h0JylcbiAgICAgIC5zZXREZXNjKCdBZGp1c3QgcGFnZSBoZWlnaHQnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGp1c3RQYWdlSGVpZ2h0KVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRqdXN0UGFnZUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdBZGp1c3QgUGFnZSBXaWR0aCcpXG4gICAgICAuc2V0RGVzYygnQWRqdXN0IHBhZ2Ugd2lkdGgnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGp1c3RQYWdlV2lkdGgpXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGp1c3RQYWdlV2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQnJlYWtzJylcbiAgICAgIC5zZXREZXNjKCdUeXBlIG9mIGJyZWFrcycpXG4gICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cbiAgICAgICAgLmFkZE9wdGlvbignbm9uZScsICdOb25lJylcbiAgICAgICAgLmFkZE9wdGlvbignYXV0bycsICdBdXRvJylcbiAgICAgICAgLmFkZE9wdGlvbignbGluZScsICdMaW5lJylcbiAgICAgICAgLmFkZE9wdGlvbignc21hcnQnLCAnU21hcnQnKVxuICAgICAgICAuYWRkT3B0aW9uKCdlbmNvZGVkJywgJ0VuY29kZWQnKVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYnJlYWtzKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYnJlYWtzID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1BhZ2UgV2lkdGgnKVxuICAgICAgLnNldERlc2MoJ1dpZHRoIG9mIHRoZSBwYWdlJylcbiAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuICAgICAgICAuc2V0TGltaXRzKDEwMCwgMTIwMCwgNTApXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYWdlV2lkdGgpXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYWdlV2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnTUlESSBUZW1wbyBBZGp1c3RtZW50JylcbiAgICAgIC5zZXREZXNjKCdBZGp1c3RtZW50IGZhY3RvciBmb3IgTUlESSB0ZW1wbycpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcbiAgICAgICAgLnNldExpbWl0cygwLjUsIDIuMCwgMC4xKVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubWlkaVRlbXBvQWRqdXN0bWVudClcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1pZGlUZW1wb0FkanVzdG1lbnQgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAuc2V0TmFtZSgnRm9udCcpXG4gICAgICAgIC5zZXREZXNjKCdNdXNpY2FsIGZvbnQgZm9yIHJlbmRlcmluZycpXG4gICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAgICAgICAgIC5hZGRPcHRpb24oJ1wiTGVpcHppZ1wiJywgJ0xlaXB6aWcnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ1wiQnJhdnVyYVwiJywgJ0JyYXZ1cmEnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ1wiR29vdHZpbGxlXCInLCAnR29vdHZpbGxlJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdcIkxlbGFuZFwiJywgJ0xlbGFuZCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbnQpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9udCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgfVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUErRDs7O0FDRS9ELGVBQWUseUJBQXFELFFBQWdCLElBQWlCLEtBQW1DO0FBQ3RJLE1BQUksQ0FBQyxPQUFPLGdCQUFnQjtBQUMxQixZQUFRLElBQUksOENBQThDO0FBQzFEO0FBQUEsRUFDRjtBQUVBLFFBQU0sV0FBVyxLQUFLO0FBRXRCLE1BQUk7QUFD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
